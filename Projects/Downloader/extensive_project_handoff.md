# Reddit Media Grabber – Extensive Project Handoff (as of 2025-05-28)

## 1. Project Overview
Reddit Media Grabber is a Python-based application designed to download media content (images, videos, GIFs, and articles) from Reddit. It features both a command-line interface (CLI) and a modern graphical user interface (GUI) with advanced filtering, NSFW controls, and robust error handling. The project is structured for extensibility, maintainability, and ease of use.

## 2. Directory Structure
```
Downloader/
│
├── grabber/                  # Core backend modules
│   ├── download_manager.py   # Download queue and logic
│   ├── subreddit_downloader.py # Subreddit-specific downloads
│   └── ...
├── gui.py                    # Main GUI application (PySide6)
├── modern_gui.py             # In-progress modern GUI implementation
├── test_reddit_auth.py       # Reddit API credential tester
├── fixed_subreddit_downloader.py # Enhanced subreddit downloader
├── subreddit_download.py     # Subreddit downloader class
├── project_handoff.md        # Original handoff document
├── prompt_plan.md            # Feature and prompt planning
├── ui_design_prompt.md       # UI design requirements and sketches
└── ...
```

## 3. Core Features
- **Download Manager**: Manages download queue, concurrency, and media type filtering.
- **Subreddit Downloader**: Downloads from specified subreddits with sort, filter, and NSFW options.
- **Global Search**: Keyword-based search across Reddit, with sorting, filtering, and NSFW toggle.
- **Modern GUI**: Tabbed interface, purple/yellow theme, NSFW controls, custom output directory, and more.
- **Configurable**: Uses config files and environment variables for persistent settings.
- **Test Infrastructure**: TDD approach, with working tests for rate limiting and scaffolding.

## 4. Authentication & Security
- Uses [PRAW](https://praw.readthedocs.io/) for Reddit API.
- Credentials can be tested with `test_reddit_auth.py`.
- No sensitive credentials are stored in plaintext; only used at runtime.
- NSFW content requires explicit user confirmation unless permanently toggled in config.

## 5. UI/UX Design
- **Theme**: Primary color purple, secondary yellow; supports light/dark mode.
- **Layout**: Tabbed navigation (global search, subreddit download, settings).
- **User Controls**: Media type, sort, time period, NSFW toggle, result limit, output directory.
- **Accessibility**: Font choices, color contrast, and keyboard navigation considered.

## 6. Configuration
- Uses `configparser` for persistent config files.
- Environment variable `GRABBER_MOCK_MODE` enables mock/test mode.

## 7. Dependencies
- `praw` (Reddit API)
- `PySide6` (GUI)
- `configparser` (Config)
- `requests` (Media download)
- `typer` (CLI)

## 8. Known Issues & Blockers
- Some CLI argument parsing edge cases were previously fixed.
- NSFW toggle logic is robust but should be reviewed for edge cases.
- GUI integration with backend is in-progress; some features are placeholders.
- DownloadItem and DownloadManager instantiation errors resolved, but future changes should be tested.

## 9. Next Steps
1. **Finish Modern GUI**: Complete the PySide6-based modern interface in `modern_gui.py`.
2. **Backend Integration**: Wire all backend logic into GUI controls.
3. **Advanced Error Handling**: Add user-facing error dialogs and retry logic.
4. **Testing**: Expand tests to cover all downloader and GUI features.
5. **Documentation**: Keep `project_handoff.md` and this file updated with all changes.

## 10. Developer Notes
- Follow TDD where possible; see test files for examples.
- Ensure all new features are reflected in both CLI and GUI.
- Use the handoff and prompt plan docs for guidance on features and design.
- PRs should include tests and documentation updates.

## 11. Contact & Handoff
If you are picking up this project:
- Review `project_handoff.md` and this file for full context.
- Check `prompt_plan.md` for feature roadmap.
- Consult `ui_design_prompt.md` for UI design requirements.
- Test your Reddit API credentials with `test_reddit_auth.py` before running the app.
- For questions, review code comments and docstrings for guidance.

---

*Generated by Cascade AI on 2025-05-28. For further assistance, refer to the documentation files or reach out to the previous maintainer if possible.*
